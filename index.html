<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Meal Bot Lite</title>
    <style>
      body { font-family: system-ui, sans-serif; max-width: 720px; margin: 40px auto; padding: 0 16px; }
      textarea { width: 100%; height: 120px; }
      button { padding: 10px 14px; margin-top: 8px; }
      pre { white-space: pre-wrap; background: #f7f7f7; padding: 12px; border-radius: 8px; }
    </style>
  </head>
  <body>
    <h1>Meal Bot Lite</h1>
    <p>Ask for a 3-day plan, bento lunches, a shopping list, etc.</p>
    <textarea id="input" placeholder="Ask me anything about meal planning..."></textarea>
    <br />
    <button id="send">Send</button>
    <h3>Response</h3>
    <pre id="out">â€”</pre>

    <script>
      document.getElementById("send").onclick = async () => {
        const prompt = document.getElementById("input").value.trim();
        document.getElementById("out").textContent = "Thinking...";
        const r = await fetch("/api/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt }),
        });
        const data = await r.json();
        document.getElementById("out").textContent = data.reply || "No reply";
      };
    </script>
  </body>
</html>
